"use strict";angular.module("weatherMeApp",["ngAnimate"]h),angular.module("weatherMeApp").controller("MainCtrl",["$scope","weatherService",function(a,b){function c(){a.location=a.position.coords.latitude+","+a.position.coords.longitude,a.imgUrl="http://maps.googleapis.com/maps/api/staticmap?center="+a.location+"&zoom=13&size=680x600&sensor=false&style=element:geometry.stroke|visibility:off&style=feature:water|saturation:-100|"}function d(){b.getWeather(a.location).then(function(b){console.log(b),a.weatherData=b.data.forecast.simpleforecast.forecastday,e()})}function e(){a.selectedWeather=a.weatherData[0];for(var b=0;b<a.weatherData.length;b++)a.weatherData[b].selected=!1;a.weatherData[0].selected=!0}function f(){b.getAddress(a.location).then(function(b){console.log(b),a.address=b.data.results[1].formatted_address})}a.location="",a.weatherData=[],a.selectedWeather,navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(b){a.$apply(function(){a.position=b,c(),d(),f()})}),a.selectWeather=function(b){for(var c=0;c<a.weatherData.length;c++)a.weatherData[c].selected=!1;b.selected=!0,a.selectedWeather=b}}]),angular.module("weatherMeApp").directive("backImg",function(){return function(a,b,c){c.$observe("backImg",function(a){b.css({"background-image":"url("+a+")"})})}}),angular.module("weatherMeApp").filter("dateformat",["$filter",function(a){return function(b){if(null==b)return"";var c=a("date")(new Date(1e3*b),"MMM dd yyyy");return c.toUpperCase()}}]),angular.module("weatherMeApp").service("weatherService",["$http",function(a){var b=this;b.getWeather=function(b){return a.get("http://api.wunderground.com/api/4aefe1e5e3afb170/forecast10day/q/"+b+".json")},b.getAddress=function(b){return a.get("http://maps.googleapis.com/maps/api/geocode/json?latlng="+b+"&sensor=true")}}]),angular.module("weatherMeApp").run(["$templateCache",function(a){a.put("views/main.html",'<div class="row" ng-if="selectedWeather"> <div class="jumbotron hidden-xs customjumbotron" back-img="{{imgUrl}}"> <div class="layer cloudy" ng-class="{\'sunny\': selectedWeather.conditions.indexOf(\'Clear\')!=-1, \'cloudy\': selectedWeather.conditions.indexOf(\'Clear\')==-1}"> </div> <div class="weatherheader"> <img ng-src="{{selectedWeather.icon_url}}" alt=""> <h2 ng-bind="address" class="customh2 ng-binding"></h2> <div class="temperature"> <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>&nbsp;&nbsp;<span ng-bind="selectedWeather.high.fahrenheit+\' &#8457;\'" class="ng-binding">50℉</span> <br><br> <span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span>&nbsp;&nbsp;<span ng-bind="selectedWeather.low.fahrenheit+\'   &#8457;\'" class="ng-binding">40℉</span> </div> </div> </div> </div> <!--Weather Details tiles--> <div class="container"> <div class="row"> <div class="col-md-2 col-sm-2 weathercol" ng-repeat="weather in weatherData"> <div class="row"> <div class="col-md-12"> <div class="thumbnail" ng-click="selectWeather(weather)" ng-class="{\'active\': weather.selected, \'inactive\': !weather.selected}"> <img ng-src="{{weather.icon_url}}" alt=""> <p class="muted text-center ng-binding" ng-bind="weather.conditions"></p> <div class="caption"> <h6 class="text-center ng-binding" ng-bind="weather.date.epoch | dateformat"></h6> <p class="muted text-center ng-binding" ng-bind="weather.date.weekday"></p> </div> </div> </div> </div> </div> </div> </div>')}]);
